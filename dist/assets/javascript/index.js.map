{"version":3,"sources":["vendor.js","main.js"],"names":["console","log","$","config","applicationId","apiKey","indexName","algolia","algoliasearch","helper","algoliasearchHelper","setQueryParameter","on","onResult","$searchInput","onQueryChange","$initialContent","$searchContent","$searchContentResults","find","onLinkClick","templateResult","Hogan","compile","html","templateNoResults","lastQuery","showResults","window","scroll","addClass","hideResults","removeClass","val","length","setQuery","search","data","query","content","nbHits","renderResults","map","hits","hit","posted_at","posted_at_readable","moment","unix","fromNow","css_selector","encodeURI","full_url","baseurl","url","render","join","getAnchorSelector","hash","anchor","substring","match","decodeURI","replace","scrollPageToSelector","selector","target","targetOffset","getBoundingClientRect","top","pageYOffset","setTimeout","event","pathname","location","preventDefault","ALGOLIA_CONFIG"],"mappings":"AAAA;;AAEAA,QAAQC,GAAR,CAAY,cAAZ;;;ACFA;AACAC,EAAE,UAASC,MAAT,EAAiB;AACjB;;AAEA,MAAIC,gBAAgBD,OAAOC,aAA3B;AACA,MAAIC,SAASF,OAAOE,MAApB;AACA,MAAIC,YAAYH,OAAOG,SAAvB;;AAEA,MAAIC,UAAUC,cAAcJ,aAAd,EAA6BC,MAA7B,CAAd;AACA,MAAII,SAASC,oBAAoBH,OAApB,EAA6BD,SAA7B,CAAb;AACAG,SAAOE,iBAAP,CAAyB,UAAzB,EAAqC,IAArC;AACAF,SAAOG,EAAP,CAAU,QAAV,EAAoBC,QAApB;;AAEA;AACA,MAAIC,eAAeZ,EAAE,oBAAF,CAAnB;AACAY,eAAaF,EAAb,CAAgB,OAAhB,EAAyBG,aAAzB;;AAEA;AACA,MAAIC,kBAAkBd,EAAE,8BAAF,CAAtB;AACA,MAAIe,iBAAiBf,EAAE,6BAAF,CAArB;AACA,MAAIgB,wBAAwBD,eAAeE,IAAf,CAAoB,mBAApB,CAA5B;AACAD,wBAAsBN,EAAtB,CAAyB,OAAzB,EAAkC,GAAlC,EAAuCQ,WAAvC;AACA;AACA,MAAIC,iBAAiBC,MAAMC,OAAN,CAAcrB,EAAE,oBAAF,EAAwBsB,IAAxB,EAAd,CAArB;AACA,MAAIC,oBAAoBvB,EAAE,gCAAF,EAAoCsB,IAApC,EAAxB;;AAEA,MAAIE,SAAJ;;AAEA;AACA,WAASC,WAAT,GAAuB;AACrBC,WAAOC,MAAP,CAAc,CAAd,EAAiB,CAAjB;AACAb,oBAAgBc,QAAhB,CAAyB,kCAAzB;AACAb,mBAAea,QAAf,CAAwB,iCAAxB;AAED;AACD,WAASC,WAAT,GAAuB;AACrBf,oBAAgBgB,WAAhB,CAA4B,kCAA5B;AACAf,mBAAee,WAAf,CAA2B,iCAA3B;AACD;;AAED;AACA,WAASjB,aAAT,GAAyB;AACvBW,gBAAYxB,EAAE,IAAF,EAAQ+B,GAAR,EAAZ;AACA,QAAIP,UAAUQ,MAAV,KAAqB,CAAzB,EAA4B;AAC1BH;AACA,aAAO,KAAP;AACD;AACDtB,WAAO0B,QAAP,CAAgBT,SAAhB,EAA2BU,MAA3B;AACAT;AACD;;AAED,WAASd,QAAT,CAAkBwB,IAAlB,EAAwB;AACtB;AACA,QAAIA,KAAKC,KAAL,KAAeZ,SAAnB,EAA8B;AAC5B,aAAO,KAAP;AACD;AACD,QAAIa,UAAUF,KAAKG,MAAL,GAAcC,cAAcJ,IAAd,CAAd,GAAoCZ,iBAAlD;AACAP,0BAAsBM,IAAtB,CAA2Be,OAA3B;AACD;;AAED,WAASE,aAAT,CAAuBJ,IAAvB,EAA6B;AAC3B,WAAOnC,EAAEwC,GAAF,CAAML,KAAKM,IAAX,EAAiB,UAASC,GAAT,EAAc;AACpC,UAAIA,IAAIC,SAAR,EAAmB;AACjBD,YAAIE,kBAAJ,GAAyBC,OAAOC,IAAP,CAAYJ,IAAIC,SAAhB,EAA2BI,OAA3B,EAAzB;AACD;AACDL,UAAIM,YAAJ,GAAmBC,UAAUP,IAAIM,YAAd,CAAnB;AACAN,UAAIQ,QAAJ,GAAejD,OAAOkD,OAAP,GAAiBT,IAAIU,GAApC;;AAEA,aAAOjC,eAAekC,MAAf,CAAsBX,GAAtB,CAAP;AACD,KARM,EAQJY,IARI,CAQC,EARD,CAAP;AASD;;AAED;AACA,WAASC,iBAAT,CAA2BC,IAA3B,EAAiC;AAC/B,QAAIC,SAASD,KAAKE,SAAL,CAAe,CAAf,CAAb;AACA,QAAI,CAACD,OAAOE,KAAP,CAAa,WAAb,CAAL,EAAgC;AAC9B,aAAO,KAAP;AACD;AACD,WAAOC,UAAUH,OAAOI,OAAP,CAAe,WAAf,EAA4B,EAA5B,CAAV,CAAP;AACD;;AAED,WAASC,oBAAT,CAA8BC,QAA9B,EAAwC;AACtC,QAAIC,SAAShE,EAAE,aAAF,EAAiBiB,IAAjB,CAAsB8C,QAAtB,CAAb;AACA,QAAIE,eAAeD,OAAO,CAAP,EAAUE,qBAAV,GAAkCC,GAAlC,GAAwCzC,OAAO0C,WAA/C,GAA6D,EAAhF;AACA1C,WAAO2C,UAAP,CAAkB,YAAW;AAC3B3C,aAAOC,MAAP,CAAc,CAAd,EAAiBsC,YAAjB;AACD,KAFD,EAEG,GAFH;AAGD;;AAED,WAAS/C,WAAT,CAAqBoD,KAArB,EAA4B;AAC1B,QAAIP,WAAWR,kBAAkBe,MAAMN,MAAN,CAAaR,IAA/B,CAAf;AACA;AACA,QAAIc,MAAMN,MAAN,CAAaO,QAAb,KAA0B7C,OAAO8C,QAAP,CAAgBD,QAA1C,IAAsD,CAACR,QAA3D,EAAqE;AACnE,aAAO,IAAP;AACD;AACD;AACAlC;AACAiC,yBAAqBC,QAArB;AACAO,UAAMG,cAAN;AACA,WAAO,KAAP;AACD;;AAED/C,SAAO2C,UAAP,CAAkB,YAAW;AAC3B,QAAIN,WAAWR,kBAAkB7B,OAAO8C,QAAP,CAAgBhB,IAAlC,CAAf;AACA,QAAIO,QAAJ,EAAc;AACZD,2BAAqBC,QAArB;AACD;AACF,GALD,EAKG,GALH;AAQD,CA7GC,CA6GArC,OAAOgD,cA7GP,CAAF;;AA+GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.js","sourcesContent":["'use strict';\n\nconsole.log('Hello world!');\n","// Init the search box\n$(function(config) {\n  'use strict';\n\n  var applicationId = config.applicationId;\n  var apiKey = config.apiKey;\n  var indexName = config.indexName;\n\n  var algolia = algoliasearch(applicationId, apiKey);\n  var helper = algoliasearchHelper(algolia, indexName);\n  helper.setQueryParameter('distinct', true);\n  helper.on('result', onResult);\n\n  // Input listening for queries\n  var $searchInput = $('.js-algolia__input');\n  $searchInput.on('keyup', onQueryChange);\n\n  // Content to hide/show when searching\n  var $initialContent = $('.js-algolia__initial-content');\n  var $searchContent = $('.js-algolia__search-content');\n  var $searchContentResults = $searchContent.find('.algolia__results');\n  $searchContentResults.on('click', 'a', onLinkClick);\n  // Rendering templates\n  var templateResult = Hogan.compile($('#algolia__template').html());\n  var templateNoResults = $('#algolia__template--no-results').html();\n\n  var lastQuery;\n\n  // Toggle result page\n  function showResults() {\n    window.scroll(0, 0);\n    $initialContent.addClass('algolia__initial-content--hidden');\n    $searchContent.addClass('algolia__search-content--active');\n\n  }\n  function hideResults() {\n    $initialContent.removeClass('algolia__initial-content--hidden');\n    $searchContent.removeClass('algolia__search-content--active');\n  }\n\n  // Handle typing query\n  function onQueryChange() {\n    lastQuery = $(this).val();\n    if (lastQuery.length === 0) {\n      hideResults();\n      return false;\n    }\n    helper.setQuery(lastQuery).search();\n    showResults();\n  }\n\n  function onResult(data) {\n    // Avoid race conditions, discard results that do not match the latest query\n    if (data.query !== lastQuery) {\n      return false;\n    }\n    var content = data.nbHits ? renderResults(data) : templateNoResults;\n    $searchContentResults.html(content);\n  }\n\n  function renderResults(data) {\n    return $.map(data.hits, function(hit) {\n      if (hit.posted_at) {\n        hit.posted_at_readable = moment.unix(hit.posted_at).fromNow();\n      }\n      hit.css_selector = encodeURI(hit.css_selector);\n      hit.full_url = config.baseurl + hit.url;\n\n      return templateResult.render(hit);\n    }).join('');\n  }\n\n  // Scroll page to correct element\n  function getAnchorSelector(hash) {\n    var anchor = hash.substring(1);\n    if (!anchor.match(/^algolia:/)) {\n      return false;\n    }\n    return decodeURI(anchor.replace(/^algolia:/, ''));\n  }\n\n  function scrollPageToSelector(selector) {\n    var target = $('.page,.post').find(selector);\n    var targetOffset = target[0].getBoundingClientRect().top + window.pageYOffset - 20;\n    window.setTimeout(function() {\n      window.scroll(0, targetOffset);\n    }, 100);\n  }\n\n  function onLinkClick(event) {\n    var selector = getAnchorSelector(event.target.hash);\n    // Normal link, going to another page\n    if (event.target.pathname !== window.location.pathname || !selector) {\n      return true;\n    }\n    // Scrolling to a result on the same page\n    hideResults();\n    scrollPageToSelector(selector);\n    event.preventDefault();\n    return false;\n  }\n\n  window.setTimeout(function() {\n    var selector = getAnchorSelector(window.location.hash);\n    if (selector) {\n      scrollPageToSelector(selector);\n    }\n  }, 100);\n\n\n}(window.ALGOLIA_CONFIG));\n\n//\n// var search = instantsearch({\n//   // Replace with your own values\n//   appId: 'LX22YTKAHJ',\n//   apiKey: 'c7eb0b291c0a2e7e5b589e8542f945dd', // search only API key, no ADMIN key\n//   indexName: 'laura-theme-index',\n//   urlSync: true\n// });\n//\n// search.addWidget(\n//   instantsearch.widgets.searchBox({\n//     container: '#search-input'\n//   })\n// );\n//\n// search.addWidget(\n//   instantsearch.widgets.hits({\n//     container: '#hits',\n//     hitsPerPage: 10,\n//     templates: {\n//       item: document.getElementById('hit-template').innerHTML,\n//       empty: \"We didn't find any results for the search <em>\\\"{{query}}\\\"</em>\"\n//     }\n//   })\n// );\n//\n// search.addWidget(\n//   instantsearch.widgets.pagination({\n//     container: '#pagination'\n//   })\n// );\n//\n// search.start();\n"]}